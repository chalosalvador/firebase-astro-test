---
// Get the current server timestamp
const serverTimestamp = new Date().toISOString();

// Simulate a database call or API request
const data = {
  message: "This page is rendered on the server!",
  timestamp: serverTimestamp,
  environment: import.meta.env.PROD ? "production" : "development",
};

// You could also make actual API calls here
const response = await fetch("https://api.github.com/zen");
const zenQuote = await response.text();
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Server Test Page</title>
  </head>
  <body>
    <main>
      <h1>Server-Side Rendered Page</h1>

      <div class="info">
        <p><strong>Server Timestamp:</strong> {data.timestamp}</p>
        <p><strong>Environment:</strong> {data.environment}</p>
        <p><strong>GitHub Zen:</strong> {zenQuote}</p>
      </div>

      <p>
        This page is rendered on the server and will create a Firebase Function.
      </p>

      <a href="/">‚Üê Back to Home</a>
    </main>

    <style>
      main {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
        font-family: system-ui, sans-serif;
      }

      .info {
        background: #f4f4f4;
        padding: 1rem;
        border-radius: 8px;
        margin: 1rem 0;
      }

      a {
        display: inline-block;
        margin-top: 1rem;
        color: #4a9eff;
        text-decoration: none;
      }

      a:hover {
        text-decoration: underline;
      }
    </style>
  </body>
</html>

